## 剑指 Offer 15.二进制中1的个数

#### 题目链接

easy: https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/

#### 题目描述

请实现一个函数，输入一个整数（以二进制串形式），输出该数二进制表示中 1 的个数。例如，把 9 表示成二进制是 1001，有 2 位是 1。因此，如果输入 9，则该函数输出 2。

```
输入：00000000000000000000000000001011
输出：3
解释：输入的二进制串 00000000000000000000000000001011 中，共有三位为 '1'。

输入：00000000000000000000000010000000
输出：1
解释：输入的二进制串 00000000000000000000000010000000 中，共有一位为 '1'。

输入：11111111111111111111111111111101
输出：31
解释：输入的二进制串 11111111111111111111111111111101 中，共有 31 位为 '1'。

输入必须是长度为 32 的 二进制串 。
```

#### 思路

- 方法一：逐位判断

根据 与运算 定义，设二进制数字 n ，则有：
若 n \& 1 = 0 ，则 n 二进制 最右一位 为 0 ；
若 n \& 1 = 1 ，则 n 二进制 最右一位 为 1 。
根据以上特点，考虑以下 循环判断 ：
判断 n 最右一位是否为 1 ，根据结果计数。
将 n 右移一位（本题要求把数字 n 看作无符号数，因此使用 无符号右移 操作）。

- 方法二：巧用 n \& (n - 1) ==妙蛙种子吃妙脆角T_T==

(n - 1) 解析： 二进制数字 n 最右边的 1 变成 0 ，此 1 右边的 0 都变成 1 。
n \& (n - 1)解析： 二进制数字 n 最右边的 1 变成 0 ，其余不变。

![Picture10.png](./img/6)

```java
//方法一
public class Solution {
    public int hammingWeight(int n) {
        int res = 0;
        while(n!=0){
            res += n & 1;
            n >>>= 1;
        }
        return res;
    }
}
//方法二
public class Solution {
    public int NumberOf1(int n) {
        int res = 0;
        while(n != 0){
            n &= (n-1);
            res++;
        }
        return res;
    }
}
```

- 第二遍牛客网：

```java
public class Solution {
    public int NumberOf1(int n) {
        int f = 1;
        int sum = 0;
        for(int i = 0;i<32;i++){
            sum += n&f;
            n >>= 1;
        }
        return sum;
    }
}
/*错误情况，将用于按位与的1左移，不移动n。
例如10(1010)与（0010）按位与结果为2。
for(int i = 0;i<32;i++){
	if((n&f) == 1) sum++;
	f <<= 1;
}
*/
```

