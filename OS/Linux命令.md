# Linux命令

**1、CPU负载和CPU利用率是？**

**CPU负载**：当前系统正在运行的和处于等待运行的进程数之和。

**CPU利用率**：当前**正在运行**的进程实时占用CPU的百分比，是对一段时间内CPU使用状况的统计。比如1h内CPU被占用30min，利用率是50%。

**2、CPU负载很高，利用率很低该怎么办？**

CPU负载很高，利用率却很低，说明处于等待状态的任务很多，负载越高，代表可能很多僵死的进程。通常这种情况是**IO密集型的任务，大量请求在请求相同的IO，导致任务队列堆积**。

可以先通过`top`命令观察，是否存在高负载低使用率。

然后，再通过命令`ps -axjf`查看是否存在状态为`D+`状态的进程，这个状态指的就是**不可中断的睡眠状态的进程**。处于这个状态的进程无法终止，也无法自行退出，只能通过恢复其依赖的资源或者重启系统来解决。

**3、CPU负载很低，利用率却很高？**

**计算密集型任务**，生成了大量耗时短的计算任务。通过`top`命令找到使用率最高的任务，定位到去看看。如果代码没有问题，那么过段时间CPU使用率就会下降的。

**4、CPU利用率100%，怎么排查？**

- 通过`top`找到占用率高的进程。
- 通过`top -Hp pid`找到占用CPU高的线程ID。
- 再把线程ID转化为16进制，记为0x3be
- 通过命令`jstack 163 | grep '0x3be' -C5 --color` 或者 `jstack 163|vim +/0x3be -` 找到有问题的代码。

**5、Linux常用命令？**

**常用文件、目录命令：**

`ls`：用户查看目录下的文件，`ls -a`可以用来查看隐藏文件，`ls -l`可以用于查看文件的详细信息，包括权限、大小、所有者等信息。

`touch`：用于创建文件。如果文件不存在，则创建一个新的文件，如果文件已存在，则会修改文件的时间戳。

`cat`：用于查看文件内容，不管文件的内容有多少，都会一次性显示，所以他不适合查看太大的文件。

`more`：more和cat有点区别，more用于分屏显示文件内容。可以用`空格键`向下翻页，`b`键向上翻页。

`less`：和more类似，less用于分行显示。

`tail`：可能是平时用的最多的命令了，查看日志文件基本靠他了。一般用户`tail -fn 100 xx.log`查看最后的100行内容。

**常用的权限命令：**

`chmod`：修改权限命令。一般用`+`号添加权限，`-`号删除权限，`x`代表执行权限，`r`代表读取权限，`w`代表写入权限，常见写法比如`chmod +x 文件名` 添加执行权限。

还有另外一种写法，使用数字来授权，因为`r`=4，`w`=2，`x`=1，平时执行命令`chmod 777 文件名`这就是最高权限了。

第一个数字7=4+2+1代表着所有者的权限，第二个数字7代表所属组的权限，第三个数字代表其他人的权限。

**常用的压缩命令：**

zip、unzip、tar、gzip



## 参考

[学习linux命令，看这篇2w多字的命令详解就够了](https://mp.weixin.qq.com/s/7bSwKiPmtJbs7FtRWZZqpA)

[大厂面试Linux就这5个问题](https://mp.weixin.qq.com/s/24vBHgtw5efC9V9yYqknNg)